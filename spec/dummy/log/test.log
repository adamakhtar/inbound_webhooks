  [1m[35mSQL (0.3ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (243.6ms)[0m  [1m[35mCREATE DATABASE "inbound_webhooks_test" ENCODING = 'unicode'[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7747392074491642860)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2026-02-19 21:10:12.266133', '2026-02-19 21:10:12.266134') RETURNING "key"[0m
Migrating to CreateInboundWebhooksWebhooks (20260219000001)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "inbound_webhooks_webhooks" ("id" bigserial primary key, "provider" character varying NOT NULL, "event_type" character varying NOT NULL, "provider_event_id" character varying, "payload" json NOT NULL, "headers" json, "ip_address" character varying, "status" character varying DEFAULT 'pending' NOT NULL, "retry_count" integer DEFAULT 0, "error_message" text, "processed_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_inbound_webhooks_webhooks_on_provider" ON "inbound_webhooks_webhooks" ("provider")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_inbound_webhooks_webhooks_on_event_type" ON "inbound_webhooks_webhooks" ("event_type")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_inbound_webhooks_webhooks_on_provider_event_id" ON "inbound_webhooks_webhooks" ("provider_event_id") WHERE provider_event_id IS NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_inbound_webhooks_webhooks_on_status" ON "inbound_webhooks_webhooks" ("status")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_inbound_webhooks_webhooks_on_provider_and_event_type" ON "inbound_webhooks_webhooks" ("provider", "event_type")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_inbound_webhooks_webhooks_on_status_and_created_at" ON "inbound_webhooks_webhooks" ("status", "created_at")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20260219000001') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(7747392074491642860)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Count (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:10:17 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider_event_id" = $1 LIMIT $2[0m  [["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (1.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", "evt_123"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["headers", "{\"HTTP_X_WEBHOOK_SIGNATURE\":\"8ca43a9bfec6c6d157788243bd5b125fca7814d5c97c685fac6efac41a37553c\"}"], ["ip_address", "127.0.0.1"], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.666259"], ["updated_at", "2026-02-19 21:10:17.666259"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 4caef8ad-7d75-4c92-8973-8cd50d595de3) to Test(webhooks) with arguments: 1
Completed 200 OK in 32ms (ActiveRecord: 6.0ms (2 queries, 0 cached) | GC: 13.9ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mInboundWebhooks::Webhook Load (0.4ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:10:17 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:10:17 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/unknown" for 127.0.0.1 at 2026-02-19 21:10:17 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "unknown", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :set_provider rendered or redirected
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.5ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", "evt_123"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.679030"], ["updated_at", "2026-02-19 21:10:17.679030"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:10:17 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider_event_id" = $1 LIMIT $2[0m  [["provider_event_id", "evt_123"], ["LIMIT", 1]]
Completed 200 OK in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:10:17 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider_event_id" = $1 LIMIT $2[0m  [["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "simple_provider"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", "evt_123"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["headers", "{}"], ["ip_address", "127.0.0.1"], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.684586"], ["updated_at", "2026-02-19 21:10:17.684586"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: f89a0c84-5180-4765-9f46-2415be6a669e) to Test(webhooks) with arguments: 3
Completed 200 OK in 2ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:10:17 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/github" for 127.0.0.1 at 2026-02-19 21:10:17 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "gh_456", "provider" => "github", "webhook" => {"id" => "gh_456"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider_event_id" = $1 LIMIT $2[0m  [["provider_event_id", "gh_456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "opened"], ["provider_event_id", "gh_456"], ["payload", "{\"id\":\"gh_456\",\"action\":\"opened\"}"], ["headers", "{\"HTTP_X_HUB_SIGNATURE_256\":\"1d6afed1cee7bfa574054def6f8aaefab2ff0466079c4378431808a4255d0eba\"}"], ["ip_address", "127.0.0.1"], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.688835"], ["updated_at", "2026-02-19 21:10:17.688835"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 795e1463-f68e-4c09-830d-6f1479da737a) to Test(webhooks) with arguments: 4
Completed 200 OK in 2ms (ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.691221"], ["updated_at", "2026-02-19 21:10:17.691221"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.3ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:10:17.692453"], ["id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:10:17.693287"], ["updated_at", "2026-02-19 21:10:17.693349"], ["id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.696304"], ["updated_at", "2026-02-19 21:10:17.696304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:10:17.697498"], ["id", 6]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:10:17.698300"], ["updated_at", "2026-02-19 21:10:17.698398"], ["id", 6]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.699799"], ["updated_at", "2026-02-19 21:10:17.699799"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:10:17.700610"], ["id", 7]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:10:17.701061"], ["updated_at", "2026-02-19 21:10:17.701128"], ["id", 7]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.6ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.702796"], ["updated_at", "2026-02-19 21:10:17.702796"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:10:17.704089"], ["id", 8]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:10:17.704533"], ["updated_at", "2026-02-19 21:10:17.704590"], ["id", 8]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.705475"], ["updated_at", "2026-02-19 21:10:17.705475"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:10:17.706082"], ["updated_at", "2026-02-19 21:10:17.706150"], ["id", 9]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.707613"], ["updated_at", "2026-02-19 21:10:17.707613"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.709786"], ["updated_at", "2026-02-19 21:10:17.709786"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:10:17.710786"], ["id", 11]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 11]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "pending"], ["error_message", "RuntimeError: boom\n/Users/adamakhtar/Projects/active/inbound_webhooks/spec/jobs/inbound_webhooks/process_webhook_job_spec.rb:72:in 'block (4 levels) in <top (required)>'\n/Users/adamakhtar/Projects/active/inbound_webhooks/lib/inbound_webhooks/handler.rb:22:in 'InboundWebhooks::Handler#call'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'block in InboundWebhooks::ProcessWebhookJob#perform'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'Array#each'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'InboundWebhooks::ProcessWebhookJob#perform'"], ["updated_at", "2026-02-19 21:10:17.712230"], ["id", 11]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: ae1c1b01-bf83-4a61-9742-2f2fe373f5ca) to Test(webhooks) at 2026-02-19 21:10:27 UTC with arguments: 11
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.716952"], ["updated_at", "2026-02-19 21:10:17.716952"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["retry_count", 2], ["updated_at", "2026-02-19 21:10:17.717791"], ["id", 12]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:10:17.718826"], ["id", 12]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 12]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "RuntimeError: boom"], ["updated_at", "2026-02-19 21:10:17.719568"], ["id", 12]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.5ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.720743"], ["updated_at", "2026-02-19 21:10:17.720743"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.5ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:10:17.721866"], ["id", 13]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 13]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "RuntimeError: boom"], ["updated_at", "2026-02-19 21:10:17.723098"], ["id", 13]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"1\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.736044"], ["updated_at", "2026-02-19 21:10:17.736044"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "push"], ["provider_event_id", nil], ["payload", "{\"id\":\"2\"}"], ["headers", nil], ["ip_address", nil], ["status", "processed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.736924"], ["updated_at", "2026-02-19 21:10:17.736924"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.failed"], ["provider_event_id", nil], ["payload", "{\"id\":\"3\"}"], ["headers", nil], ["ip_address", nil], ["status", "failed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.737455"], ["updated_at", "2026-02-19 21:10:17.737455"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1[0m  [["provider", "stripe"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"1\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.739045"], ["updated_at", "2026-02-19 21:10:17.739045"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "push"], ["provider_event_id", nil], ["payload", "{\"id\":\"2\"}"], ["headers", nil], ["ip_address", nil], ["status", "processed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.739689"], ["updated_at", "2026-02-19 21:10:17.739689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.failed"], ["provider_event_id", nil], ["payload", "{\"id\":\"3\"}"], ["headers", nil], ["ip_address", nil], ["status", "failed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.740270"], ["updated_at", "2026-02-19 21:10:17.740270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."event_type" = $1[0m  [["event_type", "push"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"1\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.741633"], ["updated_at", "2026-02-19 21:10:17.741633"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "push"], ["provider_event_id", nil], ["payload", "{\"id\":\"2\"}"], ["headers", nil], ["ip_address", nil], ["status", "processed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.742207"], ["updated_at", "2026-02-19 21:10:17.742207"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.failed"], ["provider_event_id", nil], ["payload", "{\"id\":\"3\"}"], ["headers", nil], ["ip_address", nil], ["status", "failed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.742765"], ["updated_at", "2026-02-19 21:10:17.742765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "pending"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"1\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.744520"], ["updated_at", "2026-02-19 21:10:17.744520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "push"], ["provider_event_id", nil], ["payload", "{\"id\":\"2\"}"], ["headers", nil], ["ip_address", nil], ["status", "processed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.745264"], ["updated_at", "2026-02-19 21:10:17.745264"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.failed"], ["provider_event_id", nil], ["payload", "{\"id\":\"3\"}"], ["headers", nil], ["ip_address", nil], ["status", "failed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.745912"], ["updated_at", "2026-02-19 21:10:17.745912"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "processed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"1\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.747442"], ["updated_at", "2026-02-19 21:10:17.747442"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "push"], ["provider_event_id", nil], ["payload", "{\"id\":\"2\"}"], ["headers", nil], ["ip_address", nil], ["status", "processed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.748132"], ["updated_at", "2026-02-19 21:10:17.748132"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.failed"], ["provider_event_id", nil], ["payload", "{\"id\":\"3\"}"], ["headers", nil], ["ip_address", nil], ["status", "failed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.749255"], ["updated_at", "2026-02-19 21:10:17.749255"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.750978"], ["updated_at", "2026-02-19 21:10:17.750978"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:10:17.751597"], ["id", 29]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.753049"], ["updated_at", "2026-02-19 21:10:17.753049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:10:17.753798"], ["updated_at", "2026-02-19 21:10:17.753867"], ["id", 30]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.755463"], ["updated_at", "2026-02-19 21:10:17.755463"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "StandardError: boom"], ["updated_at", "2026-02-19 21:10:17.756052"], ["id", 31]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.757408"], ["updated_at", "2026-02-19 21:10:17.757408"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "something went wrong"], ["updated_at", "2026-02-19 21:10:17.758154"], ["id", 32]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:10:17.759865"], ["updated_at", "2026-02-19 21:10:17.759865"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 33]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:11:00 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider_event_id" = $1 LIMIT $2[0m  [["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.6ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", "evt_123"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["headers", "{\"HTTP_X_WEBHOOK_SIGNATURE\":\"8ca43a9bfec6c6d157788243bd5b125fca7814d5c97c685fac6efac41a37553c\"}"], ["ip_address", "127.0.0.1"], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.083862"], ["updated_at", "2026-02-19 21:11:00.083862"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: e1d563bb-edd4-41e8-8f85-87dabea7e543) to Test(webhooks) with arguments: 34
Completed 200 OK in 33ms (ActiveRecord: 5.5ms (2 queries, 0 cached) | GC: 14.3ms)
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mInboundWebhooks::Webhook Load (0.4ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:11:00 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:11:00 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/unknown" for 127.0.0.1 at 2026-02-19 21:11:00 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "unknown", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :set_provider rendered or redirected
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", "evt_123"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.093810"], ["updated_at", "2026-02-19 21:11:00.093810"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:11:00 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider_event_id" = $1 LIMIT $2[0m  [["provider_event_id", "evt_123"], ["LIMIT", 1]]
Completed 200 OK in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:11:00 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider_event_id" = $1 LIMIT $2[0m  [["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "simple_provider"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", "evt_123"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["headers", "{}"], ["ip_address", "127.0.0.1"], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.098253"], ["updated_at", "2026-02-19 21:11:00.098253"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 38e7f355-9423-4f05-8e4e-3200de144425) to Test(webhooks) with arguments: 36
Completed 200 OK in 1ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:11:00 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/github" for 127.0.0.1 at 2026-02-19 21:11:00 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "gh_456", "provider" => "github", "webhook" => {"id" => "gh_456"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider_event_id" = $1 LIMIT $2[0m  [["provider_event_id", "gh_456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "opened"], ["provider_event_id", "gh_456"], ["payload", "{\"id\":\"gh_456\",\"action\":\"opened\"}"], ["headers", "{\"HTTP_X_HUB_SIGNATURE_256\":\"1d6afed1cee7bfa574054def6f8aaefab2ff0466079c4378431808a4255d0eba\"}"], ["ip_address", "127.0.0.1"], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.101462"], ["updated_at", "2026-02-19 21:11:00.101462"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 335b9cf3-c549-4c22-abf8-220faaea1339) to Test(webhooks) with arguments: 37
Completed 200 OK in 1ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.103531"], ["updated_at", "2026-02-19 21:11:00.103531"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.3ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.5ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:11:00.104722"], ["id", 38]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:11:00.105574"], ["updated_at", "2026-02-19 21:11:00.105644"], ["id", 38]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.108233"], ["updated_at", "2026-02-19 21:11:00.108233"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:11:00.109462"], ["id", 39]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:11:00.109962"], ["updated_at", "2026-02-19 21:11:00.110021"], ["id", 39]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.7ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.111743"], ["updated_at", "2026-02-19 21:11:00.111743"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.7ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (1.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:11:00.113736"], ["id", 40]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:11:00.115122"], ["updated_at", "2026-02-19 21:11:00.115186"], ["id", 40]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.116681"], ["updated_at", "2026-02-19 21:11:00.116681"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:11:00.117872"], ["id", 41]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:11:00.118307"], ["updated_at", "2026-02-19 21:11:00.118363"], ["id", 41]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.119341"], ["updated_at", "2026-02-19 21:11:00.119341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:11:00.119897"], ["updated_at", "2026-02-19 21:11:00.119963"], ["id", 42]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.121109"], ["updated_at", "2026-02-19 21:11:00.121109"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.123733"], ["updated_at", "2026-02-19 21:11:00.123733"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:11:00.124702"], ["id", 44]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 44]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "pending"], ["error_message", "RuntimeError: boom\n/Users/adamakhtar/Projects/active/inbound_webhooks/spec/jobs/inbound_webhooks/process_webhook_job_spec.rb:72:in 'block (4 levels) in <top (required)>'\n/Users/adamakhtar/Projects/active/inbound_webhooks/lib/inbound_webhooks/handler.rb:22:in 'InboundWebhooks::Handler#call'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'block in InboundWebhooks::ProcessWebhookJob#perform'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'Array#each'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'InboundWebhooks::ProcessWebhookJob#perform'"], ["updated_at", "2026-02-19 21:11:00.125730"], ["id", 44]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: ed029b86-2aa2-49b3-9533-7dd35e5b50b8) to Test(webhooks) at 2026-02-19 21:11:10 UTC with arguments: 44
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.129725"], ["updated_at", "2026-02-19 21:11:00.129725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["retry_count", 2], ["updated_at", "2026-02-19 21:11:00.130637"], ["id", 45]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:11:00.131701"], ["id", 45]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 45]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "RuntimeError: boom"], ["updated_at", "2026-02-19 21:11:00.132543"], ["id", 45]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.133775"], ["updated_at", "2026-02-19 21:11:00.133775"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:11:00.134631"], ["id", 46]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 46]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "RuntimeError: boom"], ["updated_at", "2026-02-19 21:11:00.135452"], ["id", 46]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"1\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.147082"], ["updated_at", "2026-02-19 21:11:00.147082"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "push"], ["provider_event_id", nil], ["payload", "{\"id\":\"2\"}"], ["headers", nil], ["ip_address", nil], ["status", "processed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.148015"], ["updated_at", "2026-02-19 21:11:00.148015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.failed"], ["provider_event_id", nil], ["payload", "{\"id\":\"3\"}"], ["headers", nil], ["ip_address", nil], ["status", "failed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.148633"], ["updated_at", "2026-02-19 21:11:00.148633"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1[0m  [["provider", "stripe"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"1\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.150128"], ["updated_at", "2026-02-19 21:11:00.150128"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "push"], ["provider_event_id", nil], ["payload", "{\"id\":\"2\"}"], ["headers", nil], ["ip_address", nil], ["status", "processed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.150752"], ["updated_at", "2026-02-19 21:11:00.150752"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.failed"], ["provider_event_id", nil], ["payload", "{\"id\":\"3\"}"], ["headers", nil], ["ip_address", nil], ["status", "failed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.151292"], ["updated_at", "2026-02-19 21:11:00.151292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."event_type" = $1[0m  [["event_type", "push"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"1\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.152716"], ["updated_at", "2026-02-19 21:11:00.152716"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "push"], ["provider_event_id", nil], ["payload", "{\"id\":\"2\"}"], ["headers", nil], ["ip_address", nil], ["status", "processed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.153339"], ["updated_at", "2026-02-19 21:11:00.153339"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.failed"], ["provider_event_id", nil], ["payload", "{\"id\":\"3\"}"], ["headers", nil], ["ip_address", nil], ["status", "failed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.153898"], ["updated_at", "2026-02-19 21:11:00.153898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "pending"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"1\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.155587"], ["updated_at", "2026-02-19 21:11:00.155587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "push"], ["provider_event_id", nil], ["payload", "{\"id\":\"2\"}"], ["headers", nil], ["ip_address", nil], ["status", "processed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.156321"], ["updated_at", "2026-02-19 21:11:00.156321"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.failed"], ["provider_event_id", nil], ["payload", "{\"id\":\"3\"}"], ["headers", nil], ["ip_address", nil], ["status", "failed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.156848"], ["updated_at", "2026-02-19 21:11:00.156848"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "processed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"1\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.158259"], ["updated_at", "2026-02-19 21:11:00.158259"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "github"], ["event_type", "push"], ["provider_event_id", nil], ["payload", "{\"id\":\"2\"}"], ["headers", nil], ["ip_address", nil], ["status", "processed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.158873"], ["updated_at", "2026-02-19 21:11:00.158873"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "charge.failed"], ["provider_event_id", nil], ["payload", "{\"id\":\"3\"}"], ["headers", nil], ["ip_address", nil], ["status", "failed"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.159386"], ["updated_at", "2026-02-19 21:11:00.159386"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.160824"], ["updated_at", "2026-02-19 21:11:00.160824"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:11:00.161600"], ["id", 62]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.163484"], ["updated_at", "2026-02-19 21:11:00.163484"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:11:00.164312"], ["updated_at", "2026-02-19 21:11:00.164396"], ["id", 63]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.165960"], ["updated_at", "2026-02-19 21:11:00.165960"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "StandardError: boom"], ["updated_at", "2026-02-19 21:11:00.166702"], ["id", 64]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.6ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.169907"], ["updated_at", "2026-02-19 21:11:00.169907"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (1.0ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "something went wrong"], ["updated_at", "2026-02-19 21:11:00.171490"], ["id", 65]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.6ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("provider", "event_type", "provider_event_id", "payload", "headers", "ip_address", "status", "retry_count", "error_message", "processed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["provider", "stripe"], ["event_type", "payment_intent.succeeded"], ["provider_event_id", nil], ["payload", "{\"id\":\"evt_123\"}"], ["headers", nil], ["ip_address", nil], ["status", "pending"], ["retry_count", 0], ["error_message", nil], ["processed_at", nil], ["created_at", "2026-02-19 21:11:00.175689"], ["updated_at", "2026-02-19 21:11:00.175689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 66]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (56.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "inbound_webhooks_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (118.1ms)[0m  [1m[35mCREATE DATABASE "inbound_webhooks_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "inbound_webhooks_webhooks" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "inbound_webhooks_webhooks" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "error_message" text, "event_type" character varying NOT NULL, "headers" json, "ip_address" character varying, "payload" json NOT NULL, "processed_at" timestamp(6), "provider" character varying NOT NULL, "provider_event_id" character varying, "retry_count" integer DEFAULT 0, "status" character varying DEFAULT 'pending' NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_inbound_webhooks_webhooks_on_event_type" ON "inbound_webhooks_webhooks" ("event_type")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_inbound_webhooks_webhooks_on_provider_and_event_type" ON "inbound_webhooks_webhooks" ("provider", "event_type")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_inbound_webhooks_webhooks_on_provider" ON "inbound_webhooks_webhooks" ("provider")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_inbound_webhooks_webhooks_on_provider_event_id" ON "inbound_webhooks_webhooks" ("provider_event_id") WHERE (provider_event_id IS NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_inbound_webhooks_webhooks_on_status_and_created_at" ON "inbound_webhooks_webhooks" ("status", "created_at")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_inbound_webhooks_webhooks_on_status" ON "inbound_webhooks_webhooks" ("status")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20260219000001)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2026-02-19 21:23:00.496371', '2026-02-19 21:23:00.496372') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'd0b0233ad6ea766601d5cf8ebf3888fe220cb154', '2026-02-19 21:23:00.497192', '2026-02-19 21:23:00.497192') RETURNING "key"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7747392074491642860)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(7747392074491642860)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:23:05 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (1.8ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.034956"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{\"HTTP_X_WEBHOOK_SIGNATURE\":\"8ca43a9bfec6c6d157788243bd5b125fca7814d5c97c685fac6efac41a37553c\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.034956"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 3179da59-e1b3-4e03-9e2d-3b08468ddc7b) to Test(webhooks) with arguments: 1
Completed 200 OK in 44ms (ActiveRecord: 6.8ms (2 queries, 0 cached) | GC: 11.5ms)
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mInboundWebhooks::Webhook Load (0.7ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:23:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:23:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/unknown" for 127.0.0.1 at 2026-02-19 21:23:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "unknown", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :set_provider rendered or redirected
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.6ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.051537"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.051537"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:23:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
Completed 200 OK in 0ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:23:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.055965"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.055965"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: ae062623-1f9f-4fde-bbe7-9e04ed665f2e) to Test(webhooks) with arguments: 3
Completed 200 OK in 1ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:23:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/github" for 127.0.0.1 at 2026-02-19 21:23:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "gh_456", "provider" => "github", "webhook" => {"id" => "gh_456"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "github"], ["provider_event_id", "gh_456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.060719"], ["error_message", nil], ["event_type", "opened"], ["headers", "{\"HTTP_X_HUB_SIGNATURE_256\":\"1d6afed1cee7bfa574054def6f8aaefab2ff0466079c4378431808a4255d0eba\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"gh_456\",\"action\":\"opened\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", "gh_456"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.060719"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 225b6416-93e8-4e7b-ab00-7d3fad112944) to Test(webhooks) with arguments: 4
Completed 200 OK in 2ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.062853"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.062853"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:23:06.063985"], ["id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:23:06.064937"], ["updated_at", "2026-02-19 21:23:06.065001"], ["id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.068018"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.068018"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:23:06.069010"], ["id", 6]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:23:06.069559"], ["updated_at", "2026-02-19 21:23:06.069620"], ["id", 6]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.5ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.071249"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.071249"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.3ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:23:06.072617"], ["id", 7]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:23:06.073311"], ["updated_at", "2026-02-19 21:23:06.073370"], ["id", 7]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.077106"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.077106"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:23:06.078278"], ["id", 8]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:23:06.078827"], ["updated_at", "2026-02-19 21:23:06.078886"], ["id", 8]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.080094"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.080094"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:23:06.080701"], ["status", "processed"], ["updated_at", "2026-02-19 21:23:06.080772"], ["id", 9]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.082102"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.082102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.085254"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.085254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:23:06.086469"], ["id", 11]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 11]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "pending"], ["error_message", "RuntimeError: boom\n/Users/adamakhtar/Projects/active/inbound_webhooks/spec/jobs/inbound_webhooks/process_webhook_job_spec.rb:72:in 'block (4 levels) in <top (required)>'\n/Users/adamakhtar/Projects/active/inbound_webhooks/lib/inbound_webhooks/handler.rb:22:in 'InboundWebhooks::Handler#call'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'block in InboundWebhooks::ProcessWebhookJob#perform'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'Array#each'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'InboundWebhooks::ProcessWebhookJob#perform'"], ["updated_at", "2026-02-19 21:23:06.087920"], ["id", 11]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 98600a57-b9ac-4b68-a2bf-2659c033f75d) to Test(webhooks) at 2026-02-19 21:23:16 UTC with arguments: 11
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.098918"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.098918"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["retry_count", 2], ["updated_at", "2026-02-19 21:23:06.099965"], ["id", 12]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.3ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.5ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:23:06.101223"], ["id", 12]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 12]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.6ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "RuntimeError: boom"], ["updated_at", "2026-02-19 21:23:06.102720"], ["id", 12]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.104989"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.104989"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:23:06.106058"], ["id", 13]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 13]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "RuntimeError: boom"], ["updated_at", "2026-02-19 21:23:06.107325"], ["id", 13]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.120048"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.120048"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.120919"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:23:06.120919"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.121486"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:23:06.121486"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1[0m  [["provider", "stripe"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.123183"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.123183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.123801"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:23:06.123801"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.124376"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:23:06.124376"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."event_type" = $1[0m  [["event_type", "push"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.125990"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.125990"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.126920"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:23:06.126920"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.127460"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:23:06.127460"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "pending"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.128907"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.128907"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.129572"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:23:06.129572"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.130098"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:23:06.130098"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "processed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.131493"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.131493"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.132065"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:23:06.132065"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.132585"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:23:06.132585"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.133900"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.133900"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:23:06.134459"], ["id", 29]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.135860"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.135860"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:23:06.136426"], ["status", "processed"], ["updated_at", "2026-02-19 21:23:06.136498"], ["id", 30]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.137828"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.137828"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "StandardError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:23:06.138411"], ["id", 31]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.139725"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.139725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "something went wrong"], ["status", "failed"], ["updated_at", "2026-02-19 21:23:06.140317"], ["id", 32]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:23:06.141723"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:23:06.141723"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 33]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:24:37 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.6ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.198964"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{\"HTTP_X_WEBHOOK_SIGNATURE\":\"8ca43a9bfec6c6d157788243bd5b125fca7814d5c97c685fac6efac41a37553c\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.198964"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 14af7baf-92c9-4a04-bf66-66acc709e8ea) to Test(webhooks) with arguments: 34
Completed 200 OK in 28ms (ActiveRecord: 4.7ms (2 queries, 0 cached) | GC: 11.3ms)
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mInboundWebhooks::Webhook Load (0.7ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:24:37 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:24:37 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/unknown" for 127.0.0.1 at 2026-02-19 21:24:37 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "unknown", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :set_provider rendered or redirected
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.210215"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.210215"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:24:37 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
Completed 200 OK in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:24:37 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.214673"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.214673"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: a1ce45d0-77cc-4e6c-8d1d-9c85660df914) to Test(webhooks) with arguments: 36
Completed 200 OK in 1ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:24:37 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/github" for 127.0.0.1 at 2026-02-19 21:24:37 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "gh_456", "provider" => "github", "webhook" => {"id" => "gh_456"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "github"], ["provider_event_id", "gh_456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.217861"], ["error_message", nil], ["event_type", "opened"], ["headers", "{\"HTTP_X_HUB_SIGNATURE_256\":\"1d6afed1cee7bfa574054def6f8aaefab2ff0466079c4378431808a4255d0eba\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"gh_456\",\"action\":\"opened\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", "gh_456"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.217861"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: a0f54333-71d0-4484-b855-591a2d8b25af) to Test(webhooks) with arguments: 37
Completed 200 OK in 1ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.220130"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.220130"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.3ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.7ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:24:37.221603"], ["id", 38]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:24:37.222632"], ["updated_at", "2026-02-19 21:24:37.222703"], ["id", 38]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.5ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.225725"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.225725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:24:37.226857"], ["id", 39]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:24:37.227397"], ["updated_at", "2026-02-19 21:24:37.227475"], ["id", 39]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.229093"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.229093"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:24:37.229968"], ["id", 40]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:24:37.230376"], ["updated_at", "2026-02-19 21:24:37.230435"], ["id", 40]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.231737"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.231737"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:24:37.232552"], ["id", 41]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "processed_at" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "processed"], ["processed_at", "2026-02-19 21:24:37.233260"], ["updated_at", "2026-02-19 21:24:37.233320"], ["id", 41]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.234189"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.234189"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:24:37.234786"], ["status", "processed"], ["updated_at", "2026-02-19 21:24:37.234856"], ["id", 42]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.235874"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.235874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.237980"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.237980"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:24:37.238973"], ["id", 44]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 44]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "pending"], ["error_message", "RuntimeError: boom\n/Users/adamakhtar/Projects/active/inbound_webhooks/spec/jobs/inbound_webhooks/process_webhook_job_spec.rb:72:in 'block (4 levels) in <top (required)>'\n/Users/adamakhtar/Projects/active/inbound_webhooks/lib/inbound_webhooks/handler.rb:22:in 'InboundWebhooks::Handler#call'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'block in InboundWebhooks::ProcessWebhookJob#perform'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'Array#each'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:19:in 'InboundWebhooks::ProcessWebhookJob#perform'"], ["updated_at", "2026-02-19 21:24:37.240183"], ["id", 44]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: ad211ddc-0f7e-49d9-854f-dcee6e84563d) to Test(webhooks) at 2026-02-19 21:24:47 UTC with arguments: 44
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.243997"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.243997"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["retry_count", 2], ["updated_at", "2026-02-19 21:24:37.244889"], ["id", 45]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:24:37.245773"], ["id", 45]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 45]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "RuntimeError: boom"], ["updated_at", "2026-02-19 21:24:37.246511"], ["id", 45]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.247644"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.247644"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:24:37.248381"], ["id", 46]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 46]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "error_message" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["status", "failed"], ["error_message", "RuntimeError: boom"], ["updated_at", "2026-02-19 21:24:37.249069"], ["id", 46]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.258951"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.258951"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.259879"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:24:37.259879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.260539"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:24:37.260539"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1[0m  [["provider", "stripe"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.262653"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.262653"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.263358"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:24:37.263358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.263946"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:24:37.263946"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."event_type" = $1[0m  [["event_type", "push"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.265370"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.265370"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.265943"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:24:37.265943"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.266464"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:24:37.266464"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "pending"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.267773"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.267773"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.268314"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:24:37.268314"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.268867"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:24:37.268867"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "processed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.5ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.270492"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.270492"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.271332"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:24:37.271332"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.5ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.272031"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:24:37.272031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.273955"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.273955"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["status", "processing"], ["updated_at", "2026-02-19 21:24:37.274735"], ["id", 62]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.276306"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.276306"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:24:37.276903"], ["status", "processed"], ["updated_at", "2026-02-19 21:24:37.276986"], ["id", 63]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.278921"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.278921"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "StandardError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:24:37.279608"], ["id", 64]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.281032"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.281032"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "something went wrong"], ["status", "failed"], ["updated_at", "2026-02-19 21:24:37.281660"], ["id", 65]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:24:37.282998"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:24:37.282998"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 66]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:32:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (1.1ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.759496"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{\"HTTP_X_WEBHOOK_SIGNATURE\":\"8ca43a9bfec6c6d157788243bd5b125fca7814d5c97c685fac6efac41a37553c\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.759496"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 13a5e670-66b5-48f8-99ca-3ee0845780a6) to Test(webhooks) with arguments: 67
Completed 200 OK in 30ms (ActiveRecord: 6.4ms (2 queries, 0 cached) | GC: 11.6ms)
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mInboundWebhooks::Webhook Load (0.4ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:32:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:32:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/unknown" for 127.0.0.1 at 2026-02-19 21:32:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "unknown", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :set_provider rendered or redirected
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.770768"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.770768"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:32:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
Completed 200 OK in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:32:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.774948"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.774948"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: c6288bd9-3acb-46a7-b448-ae803f173ec2) to Test(webhooks) with arguments: 69
Completed 200 OK in 1ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:32:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/github" for 127.0.0.1 at 2026-02-19 21:32:06 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "gh_456", "provider" => "github", "webhook" => {"id" => "gh_456"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "github"], ["provider_event_id", "gh_456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.778334"], ["error_message", nil], ["event_type", "opened"], ["headers", "{\"HTTP_X_HUB_SIGNATURE_256\":\"1d6afed1cee7bfa574054def6f8aaefab2ff0466079c4378431808a4255d0eba\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"gh_456\",\"action\":\"opened\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", "gh_456"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.778334"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: c96a05a5-4560-4dcb-906b-637911f8f327) to Test(webhooks) with arguments: 70
Completed 200 OK in 2ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.780955"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.780955"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.5ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 71], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:32:06.783220"], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.783342"], ["id", 71]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.785942"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.785942"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 72], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:32:06.787327"], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.787419"], ["id", 72]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.788678"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.788678"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 73], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:32:06.790275"], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.790368"], ["id", 73]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.791775"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.791775"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 74], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:32:06.792948"], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.793031"], ["id", 74]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.793970"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.793970"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:32:06.794654"], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.794743"], ["id", 75]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 75], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.797123"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.797123"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.799931"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.799931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 77], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 77]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom\n/Users/adamakhtar/Projects/active/inbound_webhooks/spec/jobs/inbound_webhooks/process_webhook_job_spec.rb:72:in 'block (4 levels) in <top (required)>'\n/Users/adamakhtar/Projects/active/inbound_webhooks/lib/inbound_webhooks/handler.rb:22:in 'InboundWebhooks::Handler#call'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:17:in 'block in InboundWebhooks::ProcessWebhookJob#perform'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:17:in 'Array#each'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:17:in 'InboundWebhooks::ProcessWebhookJob#perform'"], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.801922"], ["id", 77]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 400be73d-6553-4886-bdb8-a5e0091550f7) to Test(webhooks) at 2026-02-19 21:32:16 UTC with arguments: 77
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.805432"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.805432"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["retry_count", 2], ["updated_at", "2026-02-19 21:32:06.806224"], ["id", 78]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 78], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 78]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:32:06.808056"], ["id", 78]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.809219"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.809219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 79], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 79]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:32:06.811001"], ["id", 79]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.822044"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.822044"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.822986"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.822986"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.823555"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:32:06.823555"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1[0m  [["provider", "stripe"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.824999"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.824999"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.825685"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.825685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.826363"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:32:06.826363"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."event_type" = $1[0m  [["event_type", "push"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.828142"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.828142"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.829048"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.829048"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.829719"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:32:06.829719"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "pending"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.831302"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.831302"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.831912"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.831912"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.832430"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:32:06.832430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "processed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.5ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.833887"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.833887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.834764"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.834764"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.835447"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:32:06.835447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.837016"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.837016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 95], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.839181"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.839181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.5ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "error"], ["status", "failed"], ["updated_at", "2026-02-19 21:32:06.839933"], ["id", 96]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.5ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 96], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.842523"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.842523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 97], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 97], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.845013"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.845013"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 98], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:32:06.846772"], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.846927"], ["id", 98]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 98], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.848425"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.848425"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:32:06.848999"], ["status", "processed"], ["updated_at", "2026-02-19 21:32:06.849074"], ["id", 99]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.850449"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.850449"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "StandardError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:32:06.851041"], ["id", 100]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.852344"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.852344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "something went wrong"], ["status", "failed"], ["updated_at", "2026-02-19 21:32:06.852906"], ["id", 101]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:32:06.854424"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:32:06.854424"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 102]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Count (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:35:02 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.7ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.443203"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{\"HTTP_X_WEBHOOK_SIGNATURE\":\"8ca43a9bfec6c6d157788243bd5b125fca7814d5c97c685fac6efac41a37553c\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.443203"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: b6307b7c-580e-4ddc-bb56-79e71a1dc31e) to Test(webhooks) with arguments: 103
Completed 200 OK in 29ms (ActiveRecord: 4.8ms (2 queries, 0 cached) | GC: 11.4ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mInboundWebhooks::Webhook Load (0.4ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:35:02 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:35:02 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/unknown" for 127.0.0.1 at 2026-02-19 21:35:02 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "unknown", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :set_provider rendered or redirected
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.453525"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.453525"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:35:02 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
Completed 200 OK in 1ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:35:02 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.457574"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.457574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: d61eee3b-73b5-4ad4-a99b-374be52dbbc3) to Test(webhooks) with arguments: 105
Completed 200 OK in 1ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:35:02 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/github" for 127.0.0.1 at 2026-02-19 21:35:02 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "gh_456", "provider" => "github", "webhook" => {"id" => "gh_456"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "github"], ["provider_event_id", "gh_456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.462072"], ["error_message", nil], ["event_type", "opened"], ["headers", "{\"HTTP_X_HUB_SIGNATURE_256\":\"1d6afed1cee7bfa574054def6f8aaefab2ff0466079c4378431808a4255d0eba\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"gh_456\",\"action\":\"opened\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", "gh_456"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.462072"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: ca3a8b45-7bf1-4a38-8591-bfd66eeeeb7d) to Test(webhooks) with arguments: 106
Completed 200 OK in 1ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.464093"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.464093"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.5ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 107], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.467049"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.467049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 108], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.469679"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.469679"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 109], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.471958"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.471958"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 110], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.474763"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.474763"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.476664"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.476664"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.479126"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.479126"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 113], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.481159"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.481159"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["retry_count", 2], ["updated_at", "2026-02-19 21:35:02.481734"], ["id", 114]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 114], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.483590"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.483590"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 115], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.499011"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.499011"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.499846"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:35:02.499846"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.500339"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:35:02.500339"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1[0m  [["provider", "stripe"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.501536"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.501536"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.502116"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:35:02.502116"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.502577"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:35:02.502577"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."event_type" = $1[0m  [["event_type", "push"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.503947"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.503947"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.504506"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:35:02.504506"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.504990"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:35:02.504990"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "pending"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.506058"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.506058"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.506682"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:35:02.506682"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.507366"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:35:02.507366"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "processed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.509303"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.509303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.510174"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:35:02.510174"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.510689"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:35:02.510689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.512252"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.512252"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 131], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.513990"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.513990"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.515194"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.515194"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 133], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 133], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.517620"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.517620"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 134], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.5ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.519381"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.519381"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.521127"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.521127"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.522470"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.522470"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:02.523592"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:02.523592"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Count (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:35:19 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (1.0ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.021953"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{\"HTTP_X_WEBHOOK_SIGNATURE\":\"8ca43a9bfec6c6d157788243bd5b125fca7814d5c97c685fac6efac41a37553c\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.021953"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 267def9f-024f-4a61-bece-6f52552ae2d4) to Test(webhooks) with arguments: 139
Completed 200 OK in 28ms (ActiveRecord: 6.1ms (2 queries, 0 cached) | GC: 11.6ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mInboundWebhooks::Webhook Load (0.4ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:35:20 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:35:20 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/unknown" for 127.0.0.1 at 2026-02-19 21:35:20 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "unknown", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :set_provider rendered or redirected
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.032433"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.032433"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:35:20 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
Completed 200 OK in 1ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:35:20 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.5ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.037032"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.037032"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 7295c91a-114a-4579-9913-c0347142c020) to Test(webhooks) with arguments: 141
Completed 200 OK in 2ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:35:20 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/github" for 127.0.0.1 at 2026-02-19 21:35:20 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "gh_456", "provider" => "github", "webhook" => {"id" => "gh_456"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "github"], ["provider_event_id", "gh_456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.041029"], ["error_message", nil], ["event_type", "opened"], ["headers", "{\"HTTP_X_HUB_SIGNATURE_256\":\"1d6afed1cee7bfa574054def6f8aaefab2ff0466079c4378431808a4255d0eba\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"gh_456\",\"action\":\"opened\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", "gh_456"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.041029"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: bfbe2ca8-ae2c-48fb-98f3-054b71e7d6cf) to Test(webhooks) with arguments: 142
Completed 200 OK in 1ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.043562"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.043562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.5ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 143], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:35:20.046030"], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.046160"], ["id", 143]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.048623"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.048623"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 144], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:35:20.050111"], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.050201"], ["id", 144]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.051612"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.051612"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 145], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:35:20.052905"], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.052992"], ["id", 145]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.054465"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.054465"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 146], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:35:20.056068"], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.056151"], ["id", 146]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.057566"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.057566"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:35:20.058228"], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.058308"], ["id", 147]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 147], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.060143"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.060143"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", -1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.062303"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.062303"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 149], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 149]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom\n/Users/adamakhtar/Projects/active/inbound_webhooks/spec/jobs/inbound_webhooks/process_webhook_job_spec.rb:72:in 'block (4 levels) in <top (required)>'\n/Users/adamakhtar/Projects/active/inbound_webhooks/lib/inbound_webhooks/handler.rb:22:in 'InboundWebhooks::Handler#call'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:17:in 'block in InboundWebhooks::ProcessWebhookJob#perform'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:17:in 'Array#each'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:17:in 'InboundWebhooks::ProcessWebhookJob#perform'"], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.064346"], ["id", 149]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 2faf0639-c3eb-42d2-a01e-e8967905f71c) to Test(webhooks) at 2026-02-19 21:35:30 UTC with arguments: 149
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.067907"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.067907"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["retry_count", 2], ["updated_at", "2026-02-19 21:35:20.068713"], ["id", 150]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 150], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 150]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:35:20.070336"], ["id", 150]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.071504"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.071504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 151], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 151]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:35:20.073037"], ["id", 151]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.083770"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.083770"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.084693"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.084693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.085284"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:35:20.085284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1[0m  [["provider", "stripe"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.086836"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.086836"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.087445"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.087445"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.087954"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:35:20.087954"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."event_type" = $1[0m  [["event_type", "push"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.089345"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.089345"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.089962"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.089962"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.090536"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:35:20.090536"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "pending"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.092007"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.092007"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.092725"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.092725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.093353"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:35:20.093353"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "processed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.094858"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.094858"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.095484"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.095484"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.096037"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:35:20.096037"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.097453"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.097453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 167], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.099287"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.099287"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "error"], ["status", "failed"], ["updated_at", "2026-02-19 21:35:20.099886"], ["id", 168]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 168], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.101477"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.101477"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 169], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 169], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.103525"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.103525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 170], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:35:20.104598"], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.104687"], ["id", 170]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 170], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.106285"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.106285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:35:20.106830"], ["status", "processed"], ["updated_at", "2026-02-19 21:35:20.106905"], ["id", 171]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.108203"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.108203"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.5ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "StandardError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:35:20.109105"], ["id", 172]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.111031"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.111031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "something went wrong"], ["status", "failed"], ["updated_at", "2026-02-19 21:35:20.111708"], ["id", 173]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:35:20.113060"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:35:20.113060"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 174]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:39:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (1.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.328565"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{\"HTTP_X_WEBHOOK_SIGNATURE\":\"8ca43a9bfec6c6d157788243bd5b125fca7814d5c97c685fac6efac41a37553c\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.328565"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: ae1f56b8-2e76-4e2f-b384-72ecc82fd7a4) to Test(webhooks) with arguments: 175
Completed 200 OK in 29ms (ActiveRecord: 6.8ms (2 queries, 0 cached) | GC: 11.3ms)
  [1m[36mInboundWebhooks::Webhook Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mInboundWebhooks::Webhook Load (0.8ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:39:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:39:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/unknown" for 127.0.0.1 at 2026-02-19 21:39:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "unknown", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :set_provider rendered or redirected
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.340289"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.340289"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:39:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
Completed 200 OK in 0ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:39:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.344081"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.344081"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 0060603d-27e4-4c6d-8cd7-c45b5656e72d) to Test(webhooks) with arguments: 177
Completed 200 OK in 1ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:39:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/github" for 127.0.0.1 at 2026-02-19 21:39:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "gh_456", "provider" => "github", "webhook" => {"id" => "gh_456"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "github"], ["provider_event_id", "gh_456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.347506"], ["error_message", nil], ["event_type", "opened"], ["headers", "{\"HTTP_X_HUB_SIGNATURE_256\":\"1d6afed1cee7bfa574054def6f8aaefab2ff0466079c4378431808a4255d0eba\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"gh_456\",\"action\":\"opened\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", "gh_456"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.347506"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 75361fc3-1555-4100-8687-b07f4b04a63b) to Test(webhooks) with arguments: 178
Completed 200 OK in 1ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.349343"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.349343"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.5ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 179], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.3ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:39:54.351177"], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.351293"], ["id", 179]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.354807"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.354807"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 180], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:39:54.356066"], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.356160"], ["id", 180]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.357317"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.357317"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 181], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:39:54.358244"], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.358330"], ["id", 181]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.360049"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.360049"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 182], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:39:54.361067"], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.361152"], ["id", 182]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.362057"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.362057"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:39:54.362680"], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.362755"], ["id", 183]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 183], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.363985"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.363985"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", -1], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.366329"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.366329"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 185], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 185]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom\n/Users/adamakhtar/Projects/active/inbound_webhooks/spec/jobs/inbound_webhooks/process_webhook_job_spec.rb:72:in 'block (4 levels) in <top (required)>'\n/Users/adamakhtar/Projects/active/inbound_webhooks/lib/inbound_webhooks/handler.rb:22:in 'InboundWebhooks::Handler#call'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:16:in 'block in InboundWebhooks::ProcessWebhookJob#perform'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:16:in 'Array#each'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:16:in 'InboundWebhooks::ProcessWebhookJob#perform'"], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.367925"], ["id", 185]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 3bd79a41-71ca-404f-bc4f-bce61176850d) to Test(webhooks) at 2026-02-19 21:40:04 UTC with arguments: 185
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.371853"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.371853"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["retry_count", 2], ["updated_at", "2026-02-19 21:39:54.372840"], ["id", 186]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 186], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 186]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:39:54.374403"], ["id", 186]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.375724"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.375724"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 187], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 187]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:39:54.376983"], ["id", 187]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.388042"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.388042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.388968"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.388968"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.389530"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:39:54.389530"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1[0m  [["provider", "stripe"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.391047"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.391047"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.391600"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.391600"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.392144"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:39:54.392144"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."event_type" = $1[0m  [["event_type", "push"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.393426"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.393426"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.393977"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.393977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.394635"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:39:54.394635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "pending"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.396202"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.396202"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.396760"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.396760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.397266"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:39:54.397266"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "processed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.398860"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.398860"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.399602"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.399602"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.400336"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:39:54.400336"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.402047"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.402047"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 203], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.405030"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.405030"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "error"], ["status", "failed"], ["updated_at", "2026-02-19 21:39:54.405821"], ["id", 204]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 204], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.407177"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.407177"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 205], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 205], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.408637"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.408637"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 206], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:39:54.409708"], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.409803"], ["id", 206]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 206], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", -1], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.412217"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.412217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:39:54.412760"], ["status", "processed"], ["updated_at", "2026-02-19 21:39:54.412832"], ["id", 207]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.5ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.414269"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.414269"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "StandardError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:39:54.415119"], ["id", 208]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.416758"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.416758"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "something went wrong"], ["status", "failed"], ["updated_at", "2026-02-19 21:39:54.417340"], ["id", 209]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:39:54.418798"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:39:54.418798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 210]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Count (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:43:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.7ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.142567"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{\"HTTP_X_WEBHOOK_SIGNATURE\":\"8ca43a9bfec6c6d157788243bd5b125fca7814d5c97c685fac6efac41a37553c\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.142567"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: ff0fda32-8473-4b3b-bb0e-db5880985bc6) to Test(webhooks) with arguments: 211
Completed 200 OK in 29ms (ActiveRecord: 6.6ms (2 queries, 0 cached) | GC: 11.3ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mInboundWebhooks::Webhook Load (0.4ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:43:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:43:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/unknown" for 127.0.0.1 at 2026-02-19 21:43:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "unknown", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :set_provider rendered or redirected
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.153113"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.153113"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:43:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
Completed 200 OK in 0ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:43:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.157705"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.157705"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 85952e45-9d6e-4329-8da0-f9b9c0128683) to Test(webhooks) with arguments: 213
Completed 200 OK in 1ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:43:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/github" for 127.0.0.1 at 2026-02-19 21:43:54 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "gh_456", "provider" => "github", "webhook" => {"id" => "gh_456"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "github"], ["provider_event_id", "gh_456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.161309"], ["error_message", nil], ["event_type", "opened"], ["headers", "{\"HTTP_X_HUB_SIGNATURE_256\":\"1d6afed1cee7bfa574054def6f8aaefab2ff0466079c4378431808a4255d0eba\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"gh_456\",\"action\":\"opened\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", "gh_456"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.161309"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: f6dd8195-5005-4aa8-b1da-86f6f2057ee8) to Test(webhooks) with arguments: 214
Completed 200 OK in 1ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.162927"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.162927"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.6ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 215], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:43:54.164870"], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.164992"], ["id", 215]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.167852"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.167852"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 216], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 216], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:43:54.168996"], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.169084"], ["id", 216]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 216], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.170271"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.170271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 217], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:43:54.171254"], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.171335"], ["id", 217]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.173434"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.173434"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 218], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:43:54.174759"], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.174864"], ["id", 218]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.175844"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.175844"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:43:54.176401"], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.176473"], ["id", 219]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 219], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.177555"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.177555"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", -1], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.179831"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.179831"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 221], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 221]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom\n/Users/adamakhtar/Projects/active/inbound_webhooks/spec/jobs/inbound_webhooks/process_webhook_job_spec.rb:72:in 'block (4 levels) in <top (required)>'\n/Users/adamakhtar/Projects/active/inbound_webhooks/lib/inbound_webhooks/handler.rb:22:in 'InboundWebhooks::Handler#call'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:16:in 'block in InboundWebhooks::ProcessWebhookJob#perform'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:16:in 'Array#each'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:16:in 'InboundWebhooks::ProcessWebhookJob#perform'"], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.181331"], ["id", 221]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: f168d9c3-3c5f-4906-ab57-b0a23e7469da) to Test(webhooks) at 2026-02-19 21:44:04 UTC with arguments: 221
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.184936"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.184936"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["retry_count", 2], ["updated_at", "2026-02-19 21:43:54.185851"], ["id", 222]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 222], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 222]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:43:54.187172"], ["id", 222]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.188438"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.188438"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 223], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 223]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:43:54.190042"], ["id", 223]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.199935"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.199935"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.200793"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.200793"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.201340"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:43:54.201340"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1[0m  [["provider", "stripe"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.202884"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.202884"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.203607"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.203607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.204301"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:43:54.204301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."event_type" = $1[0m  [["event_type", "push"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.206313"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.206313"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.207144"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.207144"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.207701"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:43:54.207701"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "pending"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.209150"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.209150"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.209721"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.209721"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.210235"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:43:54.210235"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "processed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.211492"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.211492"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.212029"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.212029"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.212530"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:43:54.212530"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.213859"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.213859"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 239], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 239], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.216155"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.216155"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "error"], ["status", "failed"], ["updated_at", "2026-02-19 21:43:54.216855"], ["id", 240]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 240], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.218496"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.218496"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 241], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 241], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.219963"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.219963"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 242], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Load (0.0ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:43:54.221023"], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.221123"], ["id", 242]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 242], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", -1], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.223199"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.223199"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:43:54.223841"], ["status", "processed"], ["updated_at", "2026-02-19 21:43:54.223932"], ["id", 243]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 243], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.225386"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.225386"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "StandardError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:43:54.226036"], ["id", 244]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 244], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.227428"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.227428"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "something went wrong"], ["status", "failed"], ["updated_at", "2026-02-19 21:43:54.228057"], ["id", 245]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:43:54.229364"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:43:54.229364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 246]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:48:22 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.8ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.515189"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{\"HTTP_X_WEBHOOK_SIGNATURE\":\"8ca43a9bfec6c6d157788243bd5b125fca7814d5c97c685fac6efac41a37553c\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.515189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: f99e1b96-f5c2-4ed4-bd27-77e6c192a63e) to Test(webhooks) with arguments: 247
Completed 200 OK in 29ms (ActiveRecord: 8.6ms (2 queries, 0 cached) | GC: 11.3ms)
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mInboundWebhooks::Webhook Load (0.4ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:48:22 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:48:22 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/unknown" for 127.0.0.1 at 2026-02-19 21:48:22 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "unknown", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :set_provider rendered or redirected
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.526491"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.526491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
Started POST "/webhooks/stripe" for 127.0.0.1 at 2026-02-19 21:48:22 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "stripe", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "stripe"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
Completed 200 OK in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.3ms)
  [1m[36mInboundWebhooks::Webhook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:48:22 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.530308"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", "{}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"evt_123\",\"type\":\"payment_intent.succeeded\",\"data\":{\"amount\":1000}}"], ["processed_at", nil], ["provider", "simple_provider"], ["provider_event_id", "evt_123"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.530308"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: 3317d72e-bb74-4c0e-aa30-c4444abf3638) to Test(webhooks) with arguments: 249
Completed 200 OK in 1ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/simple_provider" for 127.0.0.1 at 2026-02-19 21:48:22 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "evt_123", "type" => "payment_intent.succeeded", "data" => {"amount" => 1000}, "provider" => "simple_provider", "webhook" => {"id" => "evt_123"}}
Filter chain halted as :authenticate! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/webhooks/github" for 127.0.0.1 at 2026-02-19 21:48:22 +0000
Processing by InboundWebhooks::WebhooksController#create as HTML
  Parameters: {"id" => "gh_456", "provider" => "github", "webhook" => {"id" => "gh_456"}}
  [1m[36mInboundWebhooks::Webhook Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1 AND "inbound_webhooks_webhooks"."provider_event_id" = $2 LIMIT $3[0m  [["provider", "github"], ["provider_event_id", "gh_456"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.533919"], ["error_message", nil], ["event_type", "opened"], ["headers", "{\"HTTP_X_HUB_SIGNATURE_256\":\"1d6afed1cee7bfa574054def6f8aaefab2ff0466079c4378431808a4255d0eba\"}"], ["ip_address", "127.0.0.1"], ["payload", "{\"id\":\"gh_456\",\"action\":\"opened\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", "gh_456"], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.533919"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: b842d270-787c-41c3-9ee5-d6da0c3d6266) to Test(webhooks) with arguments: 250
Completed 200 OK in 2ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" ORDER BY "inbound_webhooks_webhooks"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.535855"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.535855"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (1.0ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 251], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.3ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:48:22.538378"], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.538502"], ["id", 251]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.2ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.541586"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.541586"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 252], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:48:22.543124"], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.543230"], ["id", 252]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.544491"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.544491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 253], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 253], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:48:22.545589"], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.545677"], ["id", 253]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.547537"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.547537"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 254], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:48:22.548669"], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.548757"], ["id", 254]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.549615"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.549615"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:48:22.550087"], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.550154"], ["id", 255]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 255], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.551526"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.551526"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", -1], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.553597"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.553597"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 257], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 257]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom\n/Users/adamakhtar/Projects/active/inbound_webhooks/spec/jobs/inbound_webhooks/process_webhook_job_spec.rb:72:in 'block (4 levels) in <top (required)>'\n/Users/adamakhtar/Projects/active/inbound_webhooks/lib/inbound_webhooks/handler.rb:22:in 'InboundWebhooks::Handler#call'\n/Users/adamakhtar/Projects/active/inbound_webhooks/app/jobs/inbound_webhooks/process_webhook_job.rb:16:in 'InboundWebhooks::ProcessWebhookJob#perform'\n/Users/adamakhtar/Projects/active/inbound_webhooks/spec/jobs/inbound_webhooks/process_webhook_job_spec.rb:75:in 'block (4 levels) in <top (required)>'\n/private/var/folders/c5/ywmd_73j0t31mm9hy7ft4vwc0000gn/T/cursor-sandbox-cache/f85804b3ec91dc398fda37ca90dd127c/bundle/ruby/3.4.0/gems/rspec-rails-8.0.3/lib/rspec/rails/matchers/active_job.rb:295:in 'RSpec::Rails::Matchers::ActiveJob::HaveEnqueuedJob#matches?'"], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.555008"], ["id", 257]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued InboundWebhooks::ProcessWebhookJob (Job ID: f0fe148a-9cdb-49a1-87fd-0e03bc0d83f7) to Test(webhooks) at 2026-02-19 21:48:32 UTC with arguments: 257
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.559194"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.559194"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = $1, "updated_at" = $2 WHERE "inbound_webhooks_webhooks"."id" = $3[0m  [["retry_count", 2], ["updated_at", "2026-02-19 21:48:22.559945"], ["id", 258]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 258], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 258]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:48:22.561287"], ["id", 258]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.562432"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\",\"amount\":1000}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.562432"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 259], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 259]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "RuntimeError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:48:22.563821"], ["id", 259]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.6ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.572882"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.572882"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.573980"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.573980"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.574801"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:48:22.574801"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."provider" = $1[0m  [["provider", "stripe"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.576692"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.576692"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.577337"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.577337"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.577910"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:48:22.577910"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."event_type" = $1[0m  [["event_type", "push"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.579262"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.579262"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.579814"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.579814"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.580554"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:48:22.580554"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "pending"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.582205"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.582205"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.6ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.582980"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.582980"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.583881"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:48:22.583881"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "processed"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.585805"], ["error_message", nil], ["event_type", "charge.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"1\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.585805"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.586502"], ["error_message", nil], ["event_type", "push"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"2\"}"], ["processed_at", nil], ["provider", "github"], ["provider_event_id", nil], ["retry_count", 0], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.586502"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.587046"], ["error_message", nil], ["event_type", "charge.failed"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"3\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "failed"], ["updated_at", "2026-02-19 21:48:22.587046"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."status" = $1[0m  [["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.588473"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.588473"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 275], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.591063"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.591063"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "error"], ["status", "failed"], ["updated_at", "2026-02-19 21:48:22.591941"], ["id", 276]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 276], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 276], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.593426"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.593426"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 277], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 277], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.1ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 277], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.595034"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.595034"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 278], ["status", "pending"], ["status", "failed"]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 278], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 278], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:48:22.596312"], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.596409"], ["id", 278]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", 278], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInboundWebhooks::Webhook Update All (0.3ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "status" = $1 WHERE "inbound_webhooks_webhooks"."id" = $2 AND "inbound_webhooks_webhooks"."status" IN ($3, $4)[0m  [["status", "processing"], ["id", -1], ["status", "pending"], ["status", "failed"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.2ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.598949"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.598949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.7ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "processed_at" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["processed_at", "2026-02-19 21:48:22.599478"], ["status", "processed"], ["updated_at", "2026-02-19 21:48:22.599549"], ["id", 279]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.7ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.601601"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.601601"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "StandardError: boom"], ["status", "failed"], ["updated_at", "2026-02-19 21:48:22.602696"], ["id", 280]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.4ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.604356"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.604356"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Update (0.4ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "error_message" = $1, "status" = $2, "updated_at" = $3 WHERE "inbound_webhooks_webhooks"."id" = $4[0m  [["error_message", "something went wrong"], ["status", "failed"], ["updated_at", "2026-02-19 21:48:22.605081"], ["id", 281]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 281], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Create (0.3ms)[0m  [1m[32mINSERT INTO "inbound_webhooks_webhooks" ("created_at", "error_message", "event_type", "headers", "ip_address", "payload", "processed_at", "provider", "provider_event_id", "retry_count", "status", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["created_at", "2026-02-19 21:48:22.606839"], ["error_message", nil], ["event_type", "payment_intent.succeeded"], ["headers", nil], ["ip_address", nil], ["payload", "{\"id\":\"evt_123\"}"], ["processed_at", nil], ["provider", "stripe"], ["provider_event_id", nil], ["retry_count", 0], ["status", "pending"], ["updated_at", "2026-02-19 21:48:22.606839"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 282], ["LIMIT", 1]]
  [1m[36mInboundWebhooks::Webhook Update All (0.2ms)[0m  [1m[33mUPDATE "inbound_webhooks_webhooks" SET "retry_count" = COALESCE("inbound_webhooks_webhooks"."retry_count", 0) + $1 WHERE "inbound_webhooks_webhooks"."id" = $2[0m  [["retry_count", 1], ["id", 282]]
  [1m[36mInboundWebhooks::Webhook Load (0.1ms)[0m  [1m[34mSELECT "inbound_webhooks_webhooks".* FROM "inbound_webhooks_webhooks" WHERE "inbound_webhooks_webhooks"."id" = $1 LIMIT $2[0m  [["id", 282], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
